<root>
  <LabelType>系统标签</LabelType>
  <LabelImage>../../Admin/Images/LabelIco/GetArticleCustom.gif</LabelImage>
  <LabelIntro>
  </LabelIntro>
  <OutType>sin</OutType>
  <CacheTime>0</CacheTime>
  <LabelDataType>sql_sysquery</LabelDataType>
  <attributes>
    <name>parentid</name>
    <default>1</default>
    <intro>父栏目ID</intro>
  </attributes>
  <attributes>
    <name>arrnodeid</name>
    <default>0</default>
    <intro>栏目ID数组</intro>
  </attributes>
  <attributes>
    <name>includechild</name>
    <default>false</default>
    <intro>是否包含子栏目</intro>
  </attributes>
  <attributes>
    <name>specialid</name>
    <default>0</default>
    <intro>专题ID</intro>
  </attributes>
  <attributes>
    <name>urltype</name>
    <default>0</default>
    <intro>链接地址类型</intro>
  </attributes>
  <attributes>
    <name>shownum</name>
    <default>10</default>
    <intro>文章数</intro>
  </attributes>
  <attributes>
    <name>ishot</name>
    <default>false</default>
    <intro>是否是热门文章</intro>
  </attributes>
  <LabelSqlString>SELECT NodeID,NodeName,arrChildID,ParentPath FROM PE_Nodes WHERE NodeID=@parentid</LabelSqlString>
  <LabelTemplate><![CDATA[<?xml version="1.0" encoding="utf-8"?>
<xsl:transform version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:pe="labelproc" exclude-result-prefixes="pe">
<xsl:output method="html" />
<!-- 参数 -->
<xsl:param name="parentid"/>
<xsl:param name="arrnodeid"/>
<xsl:param name="includechild"/>
<xsl:param name="specialid"/>
<xsl:param name="urltype"/>
<xsl:param name="shownum"/>
<xsl:param name="ishot"/>
<xsl:param name="iselite"/>
<xsl:param name="inputername"/>
<xsl:param name="datenum"/>
<xsl:param name="ordertype"/>
<xsl:param name="showtype"/>
<xsl:param name="titlelen"/>
<xsl:param name="contentlen"/>
<xsl:param name="shownodename"/>
<xsl:param name="showpropertytype"/>
<xsl:param name="showincludepic"/>
<xsl:param name="showauthor"/>
<xsl:param name="showdatetype"/>
<xsl:param name="showhits"/>
<xsl:param name="showhotsign"/>
<xsl:param name="shownewsign"/>
<xsl:param name="showtips"/>
<xsl:param name="showcommentlink"/>
<xsl:param name="usepage"/>
<xsl:param name="opentype"/>
<xsl:param name="cols"/>
<xsl:param name="hits"/>
<xsl:param name="elitelevel"/>
<xsl:param name="tablename"/>
<xsl:param name="mypage"/>
<xsl:param name="mypagesize"/>
<xsl:param name="myurlpage"/>
<xsl:param name="sqlordertype"/>
<xsl:param name="sqlinnerordertype"/>
<xsl:param name="strhits"/>
<xsl:param name="innerhits"/>
<xsl:param name="strelitelevel"/>
<xsl:param name="innerelitelevel"/>
<xsl:template match="/NewDataSet/Table">
<xsl:choose>
	<!-- 指定的栏目没有内容 -->
	<xsl:when test="count(/NewDataSet/Table) = 0">
			<li>
			指定的栏目还没内容!
			</li>
	</xsl:when>
	<xsl:otherwise>
		<xsl:choose>
			<!-- 分页显示内容开始 -->
			<xsl:when test="$usepage='true'">
				<xsl:choose>
					<!-- 所有栏目 -->
					<xsl:when test="$arrnodeid=0">
						<!-- 所有专题 -->
						<xsl:if test="$specialid=0">
							<!-- 日期范围查询datenum=0 -->
							<xsl:if test="$datenum=0">
								<!-- 不指定作者姓名查询inputername='' -->
								<xsl:if test="$inputername=''">

								<!-- SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN @tablename T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN @tablename IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN @tablename IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' -->

								<!-- arrnodeid=0 specialid=0 datenum=0-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' order by   <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename'" /}
								</xsl:if>

								<!-- 指定作者姓名查询 -->
								<xsl:if test="$inputername!=''">
								<!-- SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND IC.Inputer='@inputername' order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND C.Inputer='@inputername'  order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND IC.Inputer='@inputername' -->

								<!-- arrnodeid=0 specialid=0 datenum=0 inputername-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND IC.Inputer='@inputername' order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND C.Inputer='@inputername' order by   <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND IC.Inputer='@inputername'" /}
								</xsl:if>
							</xsl:if>

							<!-- 日期范围查询:最近几天内更新的文章datenum>0 -->
							<xsl:if test="$datenum&gt;0">
								<!-- 不指定作者姓名查询inputername='' -->
								<xsl:if test="$inputername=''">
								<!-- SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND Datediff(d,IC.UpdateTime,getdate())<=@datenum  order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND Datediff(d,C.UpdateTime,getdate())<=@datenum order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND Datediff(d,IC.UpdateTime,getdate())<=@datenum  -->

								<!-- arrnodeid=0 specialid=0 datenum>0-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND @datenum>=Datediff(d,IC.UpdateTime,getdate())  order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND @datenum>=Datediff(d,C.UpdateTime,getdate()) order by  <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND @datenum>=Datediff(d,IC.UpdateTime,getdate())" /}
								</xsl:if>

								<!-- 指定作者姓名查询 -->
								<xsl:if test="$inputername!=''">
								<!-- SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND Datediff(d,IC.UpdateTime,getdate())<=@datenum AND IC.Inputer='@inputername'  order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND Datediff(d,C.UpdateTime,getdate())<=@datenum AND C.Inputer='@inputername' order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND Datediff(d,IC.UpdateTime,getdate())<=@datenum AND IC.Inputer='@inputername'  -->

								<!-- arrnodeid=0 specialid=0 datenum>0-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND @datenum>=Datediff(d,IC.UpdateTime,getdate()) AND IC.Inputer='@inputername'  order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND @datenum>=Datediff(d,C.UpdateTime,getdate()) AND C.Inputer='@inputername' order by  <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND @datenum>=Datediff(d,IC.UpdateTime,getdate()) AND IC.Inputer='@inputername'" /}

								</xsl:if>
							</xsl:if>
						</xsl:if>

						<!-- 指定专题 -->
						<xsl:if test="$specialid&gt;0">
							<!-- 日期范围查询datenum=0 -->
							<xsl:if test="$datenum=0">
								<!-- 不指定作者姓名查询inputername='' -->
								<xsl:if test="$inputername=''">

								<!-- SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid)   -->

								<!-- arrnodeid=0 specialid>0 datenum=0-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid)  ORDER BY <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid)" /}
								</xsl:if>

								<!-- 指定作者姓名查询 -->
								<xsl:if test="$inputername!=''">
								<!-- SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND IC.Inputer='@inputername' order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND C.Inputer='@inputername' order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND IC.Inputer='@inputername'   -->

								<!-- arrnodeid=0 specialid>0 datenum=0-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND IC.Inputer='@inputername'  order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND C.Inputer='@inputername'   ORDER BY <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND IC.Inputer='@inputername'" /}

								</xsl:if>
							</xsl:if>

							<!-- 日期范围查询:最近几天内更新的文章datenum>0 -->
							<xsl:if test="$datenum&gt;0">
								<!-- 不指定作者姓名查询inputername='' -->
								<xsl:if test="$inputername=''">

								<!-- SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND Datediff(d,IC.UpdateTime,getdate())<=@datenum order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND Datediff(d,C.UpdateTime,getdate())<=@datenum order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND Datediff(d,IC.UpdateTime,getdate())<=@datenum  -->

								<!-- arrnodeid=0 specialid>0 datenum>0-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND @datenum>=Datediff(d,IC.UpdateTime,getdate()) order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND @datenum>=Datediff(d,C.UpdateTime,getdate()) ORDER BY <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND @datenum>=Datediff(d,IC.UpdateTime,getdate())" /}
								</xsl:if>

								<!-- 指定作者姓名查询 -->
								<xsl:if test="$inputername!=''">
								<!-- SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND Datediff(d,IC.UpdateTime,getdate())<=@datenum AND IC.Inputer='@inputername' order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND Datediff(d,C.UpdateTime,getdate())<=@datenum AND C.Inputer='@inputername' order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND Datediff(d,IC.UpdateTime,getdate())<=@datenum AND IC.Inputer='@inputername'  -->

								<!-- arrnodeid=0 specialid>0 datenum>0-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND @datenum>=Datediff(d,IC.UpdateTime,getdate()) AND IC.Inputer='@inputername' order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND @datenum>=Datediff(d,C.UpdateTime,getdate()) AND C.Inputer='@inputername' ORDER BY <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND @datenum>=Datediff(d,IC.UpdateTime,getdate()) AND IC.Inputer='@inputername'" /}

								</xsl:if>

							</xsl:if>
						</xsl:if>
					</xsl:when>
					<!-- 指定栏目(数组ID) -->
					<xsl:otherwise>
						<!-- 所有专题 -->
						<xsl:if test="$specialid=0">
							<!-- 日期范围查询datenum=0 -->
							<xsl:if test="$datenum=0">
								<!-- 不指定作者姓名查询inputername='' -->
								<xsl:if test="$inputername=''">

								<!-- SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' -->

								<!-- arrnodeid >0 specialid=0 datenum=0-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' order by  <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename'" /}

								</xsl:if>

								<!-- 指定作者姓名查询 -->
								<xsl:if test="$inputername!=''">
								<!-- SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND IC.Inputer='@inputername' order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND C.Inputer='@inputername' order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND IC.Inputer='@inputername' -->

								<!-- arrnodeid >0 specialid=0 datenum=0-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND IC.Inputer='@inputername' order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename'  AND C.Inputer='@inputername' order by  <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND IC.Inputer='@inputername'" /}

								</xsl:if>
							</xsl:if>

							<!-- 日期范围查询:最近几天内更新的文章datenum>0 -->
							<xsl:if test="$datenum&gt;0">
								<!-- 不指定作者姓名查询inputername='' -->
								<xsl:if test="$inputername=''">

								<!-- SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND Datediff(d,IC.UpdateTime,getdate())<=@datenum  order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND Datediff(d,C.UpdateTime,getdate())<=@datenum  order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND Datediff(d,IC.UpdateTime,getdate())<=@datenum  -->

								<!-- arrnodeid >0 specialid=0 datenum>0-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND @datenum>=Datediff(d,IC.UpdateTime,getdate())  order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND @datenum>=Datediff(d,C.UpdateTime,getdate()) ORDER BY <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND @datenum>=Datediff(d,IC.UpdateTime,getdate())" /}

								</xsl:if>


								<!-- 指定作者姓名查询 -->
								<xsl:if test="$inputername!=''">
								<!-- SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND Datediff(d,IC.UpdateTime,getdate())<=@datenum AND IC.Inputer='@inputername'  order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND Datediff(d,C.UpdateTime,getdate())<=@datenum AND C.Inputer='@inputername'  order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND Datediff(d,IC.UpdateTime,getdate())<=@datenum AND IC.Inputer='@inputername'  -->

								<!-- arrnodeid >0 specialid=0 datenum>0-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND @datenum>=Datediff(d,IC.UpdateTime,getdate()) AND IC.Inputer='@inputername'  order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND @datenum>=Datediff(d,C.UpdateTime,getdate()) AND C.Inputer='@inputername' ORDER BY <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND @datenum>=Datediff(d,IC.UpdateTime,getdate()) AND IC.Inputer='@inputername'" /}

								</xsl:if>

							</xsl:if>
						</xsl:if>

						<!-- 指定专题 -->
						<xsl:if test="$specialid&gt;0">
							<!-- 日期范围查询datenum=0 -->
							<xsl:if test="$datenum=0">
								<!-- 不指定作者姓名查询inputername='' -->
								<xsl:if test="$inputername=''">

								<!-- SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid)   -->


								<!-- arrnodeid >0 specialid>0 datenum=0-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid)  order by <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid)" /}

								</xsl:if>

								<!-- 指定作者姓名查询 -->
								<xsl:if test="$inputername!=''">
								<!-- SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND IC.Inputer='@inputername' order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND C.Inputer='@inputername' order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND IC.Inputer='@inputername'   -->


								<!-- arrnodeid >0 specialid>0 datenum=0-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND IC.Inputer='@inputername' order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND C.Inputer='@inputername'  order by <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND IC.Inputer='@inputername'" /}

								</xsl:if>
							</xsl:if>

							<!-- 日期范围查询:最近几天内更新的文章datenum>0 -->
							<xsl:if test="$datenum&gt;0">
								<!-- 不指定作者姓名查询inputername='' -->
								<xsl:if test="$inputername=''">

								<!-- SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND Datediff(d,IC.UpdateTime,getdate())<=@datenum order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND Datediff(d,C.UpdateTime,getdate())<=@datenum order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND Datediff(d,IC.UpdateTime,getdate())<=@datenum  -->


								<!-- arrnodeid >0 specialid>0 datenum>0-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND @datenum>=Datediff(d,IC.UpdateTime,getdate()) order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND @datenum>=Datediff(d,C.UpdateTime,getdate()) order by <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND @datenum>=Datediff(d,IC.UpdateTime,getdate())" /}
								</xsl:if>

								<!-- 指定作者姓名查询 -->
								<xsl:if test="$inputername!=''">
								<!-- SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND Datediff(d,IC.UpdateTime,getdate())<=@datenum AND IC.Inputer='@inputername' order by @sqlinnerordertype) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND Datediff(d,C.UpdateTime,getdate())<=@datenum AND C.Inputer='@inputername' order by @sqlordertype -->

								<!-- SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND Datediff(d,IC.UpdateTime,getdate())<=@datenum AND IC.Inputer='@inputername'  -->


								<!-- arrnodeid >0 specialid>0 datenum>0-->

								{PE.Label id="显示内容信息列表_分页" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" mypage="<xsl:value-of select="$mypage"/>" mypagesize="<xsl:value-of select="$mypagesize"/>" myurlpage="<xsl:value-of select="$myurlpage"/>" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT Top @pagesize C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.GeneralID NOT IN (SELECT Top @startrow IC.GeneralID FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND @datenum>=Datediff(d,IC.UpdateTime,getdate()) AND IC.Inputer='@inputername' order by   <xsl:value-of select="$sqlinnerordertype" />) AND C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND @datenum>=Datediff(d,C.UpdateTime,getdate()) AND C.Inputer='@inputername' order by <xsl:value-of select="$sqlordertype" />" sqlcount="SELECT COUNT(IC.GeneralID) FROM (PE_CommonModel IC INNER JOIN PE_CommonProduct IT ON IC.ItemID=IT.ProductID) INNER JOIN PE_SpecialInfos SS ON IC.GeneralID=SS.GeneralID  WHERE IC.NodeID IN(@arrnodeid) AND IC.Status=99 @innerhits @innerelitelevel AND IC.TableName='@tablename' AND SS.SpecialID IN(@specialid) AND @datenum>=Datediff(d,IC.UpdateTime,getdate()) AND IC.Inputer='@inputername'" /}

								</xsl:if>
							</xsl:if>
						</xsl:if>
					</xsl:otherwise>
				</xsl:choose>

			</xsl:when>
			<!-- 分页显示内容结束 -->

			<!-- 不分页显示内容开始 -->
			<xsl:otherwise>
				<xsl:choose>
					<!-- 所有栏目 -->
					<xsl:when test="$arrnodeid=0">
						<!-- 所有专题 -->
						<xsl:if test="$specialid=0">
							<!-- 查询所有文章shownum=0 -->
							<xsl:if test="$shownum=0">
								<!-- 日期范围查询datenum=0 -->
								<xsl:if test="$datenum=0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' order by @sqlordertype -->
									<!-- arrnodeid=0 specialid=0 shownum=0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' ORDER BY  <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>

									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND C.Inputer='@inputername' order by @sqlordertype -->
									<!-- arrnodeid=0 specialid=0 shownum=0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND C.Inputer='@inputername' ORDER BY  <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>

								</xsl:if>

								<!-- 日期范围查询:最近几天内更新的文章datenum>0 -->
								<xsl:if test="$datenum&gt;0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND Datediff(d,UpdateTime,getdate())<=@datenum ORDER BY @sqlordertype -->

									<!-- arrnodeid=0 specialid=0 shownum=0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND @datenum>=Datediff(d,UpdateTime,getdate()) ORDER BY  <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>

									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND Datediff(d,UpdateTime,getdate())<=@datenum AND C.Inputer='@inputername' ORDER BY @sqlordertype -->

									<!-- arrnodeid=0 specialid=0 shownum=0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND @datenum>=Datediff(d,UpdateTime,getdate()) AND C.Inputer='@inputername' ORDER BY  <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>

								</xsl:if>

							</xsl:if>

							<!-- 查询前几篇文章shownum>0 -->
							<xsl:if test="$shownum&gt;0">
								<!-- 日期范围查询datenum=0 -->
								<xsl:if test="$datenum=0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' ORDER BY @sqlordertype -->

									<!-- arrnodeid=0 specialid=0 shownum>0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' ORDER BY <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>

									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND C.Inputer='@inputername' ORDER BY @sqlordertype -->

									<!-- arrnodeid=0 specialid=0 shownum>0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND C.Inputer='@inputername' ORDER BY <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>

								</xsl:if>

								<!-- 日期范围查询:最近几天内更新的文章datenum>0 -->
								<xsl:if test="$datenum&gt;0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND Datediff(d,UpdateTime,getdate())<=@datenum ORDER BY @sqlordertype  -->

									<!-- arrnodeid=0 specialid=0 shownum>0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND @datenum>=Datediff(d,UpdateTime,getdate()) ORDER BY <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>

									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND Datediff(d,UpdateTime,getdate())<=@datenum AND C.Inputer='@inputername' ORDER BY @sqlordertype  -->

									<!-- arrnodeid=0 specialid=0 shownum>0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND @datenum>=Datediff(d,UpdateTime,getdate()) AND C.Inputer='@inputername' ORDER BY <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>
								</xsl:if>
							</xsl:if>
						</xsl:if>

						<!-- 指定专题 -->
						<xsl:if test="$specialid&gt;0">
							<!-- 查询所有文章shownum=0 -->
							<xsl:if test="$shownum=0">
								<!-- 日期范围查询datenum=0 -->
								<xsl:if test="$datenum=0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) order by @sqlordertype -->

									<!-- arrnodeid=0 specialid>0 shownum=0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) ORDER BY <xsl:value-of select="$sqlordertype" />" /}
									</xsl:if>

									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND C.Inputer='@inputername' order by @sqlordertype -->

									<!-- arrnodeid=0 specialid>0 shownum=0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND C.Inputer='@inputername' ORDER BY <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>
								</xsl:if>

								<!-- 日期范围查询:最近几天内更新的文章datenum>0 -->
								<xsl:if test="$datenum&gt;0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND Datediff(d,UpdateTime,getdate())<=@datenum order by @sqlordertype -->

									<!-- arrnodeid=0 specialid>0 shownum=0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND @datenum>=Datediff(d,UpdateTime,getdate()) ORDER BY <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>

									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND Datediff(d,UpdateTime,getdate())<=@datenum AND C.Inputer='@inputername' order by @sqlordertype -->

									<!-- arrnodeid=0 specialid>0 shownum=0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND @datenum>=Datediff(d,UpdateTime,getdate()) AND C.Inputer='@inputername' ORDER BY <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>
								</xsl:if>
							</xsl:if>

							<!-- 查询前几篇文章shownum>0 -->
							<xsl:if test="$shownum&gt;0">
								<!-- 日期范围查询datenum=0 -->
								<xsl:if test="$datenum=0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) order by @sqlordertype -->

									<!-- arrnodeid=0 specialid>0 shownum>0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) order by <xsl:value-of select="$sqlordertype" />" /}
									</xsl:if>


									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND C.Inputer='@inputername' order by @sqlordertype -->

									<!-- arrnodeid=0 specialid>0 shownum>0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND C.Inputer='@inputername' order by <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>

								</xsl:if>

								<!-- 日期范围查询:最近几天内更新的文章datenum>0 -->
								<xsl:if test="$datenum&gt;0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND Datediff(d,UpdateTime,getdate())<=@datenum order by @sqlordertype -->

									<!-- arrnodeid=0 specialid>0 shownum>0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND @datenum>=Datediff(d,UpdateTime,getdate()) order by <xsl:value-of select="$sqlordertype" />" /}
									</xsl:if>

									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND Datediff(d,UpdateTime,getdate())<=@datenum AND C.Inputer='@inputername' order by @sqlordertype -->

									<!-- arrnodeid=0 specialid>0 shownum>0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="arrChildID" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND @datenum>=Datediff(d,UpdateTime,getdate()) AND C.Inputer='@inputername' order by <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>

								</xsl:if>
							</xsl:if>
						</xsl:if>
					</xsl:when>
					<!-- 指定栏目(数组ID) -->
					<xsl:otherwise>
						<!-- 所有专题 -->
						<xsl:if test="$specialid=0">
							<!-- 查询所有文章shownum=0 -->
							<xsl:if test="$shownum=0">
								<!-- 日期范围查询datenum=0 -->
								<xsl:if test="$datenum=0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' order by @sqlordertype -->

									<!-- arrnodeid >0 specialid=0 shownum=0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' order by <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>


									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND C.Inputer='@inputername' order by @sqlordertype -->

									<!-- arrnodeid >0 specialid=0 shownum=0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND C.Inputer='@inputername' order by <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>

								</xsl:if>

								<!-- 日期范围查询:最近几天内更新的文章datenum>0 -->
								<xsl:if test="$datenum&gt;0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND Datediff(d,UpdateTime,getdate())<=@datenum ORDER BY @sqlordertype -->

									<!-- arrnodeid >0 specialid=0 shownum=0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND @datenum>=Datediff(d,UpdateTime,getdate()) ORDER BY <xsl:value-of select="$sqlordertype" />" /}
									</xsl:if>

									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND Datediff(d,UpdateTime,getdate())<=@datenum AND C.Inputer='@inputername' ORDER BY @sqlordertype -->

									<!-- arrnodeid >0 specialid=0 shownum=0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND @datenum>=Datediff(d,UpdateTime,getdate()) AND C.Inputer='@inputername' ORDER BY <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>
								</xsl:if>
							</xsl:if>

							<!-- 查询前几篇文章shownum>0 -->
							<xsl:if test="$shownum&gt;0">
								<!-- 日期范围查询datenum=0 -->
								<xsl:if test="$datenum=0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' ORDER BY @sqlordertype -->

									<!-- arrnodeid >0 specialid=0 shownum>0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' ORDER BY <xsl:value-of select="$sqlordertype" />" /}
									</xsl:if>

									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND C.Inputer='@inputername' ORDER BY @sqlordertype -->

									<!-- arrnodeid >0 specialid=0 shownum>0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND C.Inputer='@inputername' ORDER BY <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>

								</xsl:if>

								<!-- 日期范围查询:最近几天内更新的文章datenum>0 -->
								<xsl:if test="$datenum&gt;0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND Datediff(d,UpdateTime,getdate())<=@datenum ORDER BY @sqlordertype -->

									<!-- arrnodeid >0 specialid=0 shownum>0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND @datenum>=Datediff(d,UpdateTime,getdate()) ORDER BY <xsl:value-of select="$sqlordertype" />" /}
									</xsl:if>

									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND Datediff(d,UpdateTime,getdate())<=@datenum AND C.Inputer='@inputername' ORDER BY @sqlordertype -->

									<!-- arrnodeid >0 specialid=0 shownum>0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND @datenum>=Datediff(d,UpdateTime,getdate()) AND C.Inputer='@inputername' ORDER BY <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>
								</xsl:if>
							</xsl:if>
						</xsl:if>

						<!-- 指定专题 -->
						<xsl:if test="$specialid&gt;0">
							<!-- 查询所有文章shownum=0 -->
							<xsl:if test="$shownum=0">
								<!-- 日期范围查询datenum=0 -->
								<xsl:if test="$datenum=0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) order by @sqlordertype -->

									<!-- arrnodeid >0 specialid>0 shownum=0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) order by <xsl:value-of select="$sqlordertype" />" /}
									</xsl:if>


									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND C.Inputer='@inputername' order by @sqlordertype -->

									<!-- arrnodeid >0 specialid>0 shownum=0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND C.Inputer='@inputername' order by <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>
								</xsl:if>

								<!-- 日期范围查询:最近几天内更新的文章datenum>0 -->
								<xsl:if test="$datenum&gt;0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND Datediff(d,UpdateTime,getdate())<=@datenum order by @sqlordertype -->

									<!-- arrnodeid >0 specialid>0 shownum=0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND @datenum>=Datediff(d,UpdateTime,getdate()) order by <xsl:value-of select="$sqlordertype" />" /}
									</xsl:if>

									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND Datediff(d,UpdateTime,getdate())<=@datenum AND C.Inputer='@inputername' order by @sqlordertype -->

									<!-- arrnodeid >0 specialid>0 shownum=0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND @datenum>=Datediff(d,UpdateTime,getdate()) AND C.Inputer='@inputername' order by <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>
								</xsl:if>
							</xsl:if>

							<!-- 查询前几篇文章shownum>0 -->
							<xsl:if test="$shownum&gt;0">
								<!-- 日期范围查询datenum=0 -->
								<xsl:if test="$datenum=0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) order by @sqlordertype -->

									<!-- arrnodeid >0 specialid>0 shownum>0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) order by <xsl:value-of select="$sqlordertype" />" /}
									</xsl:if>

									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND C.Inputer='@inputername' order by @sqlordertype -->

									<!-- arrnodeid >0 specialid>0 shownum>0 datenum=0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND C.Inputer='@inputername' order by <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>
								</xsl:if>

								<!-- 日期范围查询:最近几天内更新的文章datenum>0 -->
								<xsl:if test="$datenum&gt;0">
									<!-- 不指定作者姓名查询inputername='' -->
									<xsl:if test="$inputername=''">

									<!-- SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND Datediff(d,UpdateTime,getdate())<=@datenum order by @sqlordertype -->

									<!-- arrnodeid >0 specialid>0 shownum>0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND @datenum>=Datediff(d,UpdateTime,getdate()) ORDER BY <xsl:value-of select="$sqlordertype" />" /}
									</xsl:if>

									<!-- 指定作者姓名查询 -->
									<xsl:if test="$inputername!=''">
									<!-- SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND Datediff(d,UpdateTime,getdate())<=@datenum AND C.Inputer='@inputername' order by @sqlordertype -->

									<!-- arrnodeid >0 specialid>0 shownum>0 datenum>0-->

									{PE.Label id="显示内容信息列表" parentid="<xsl:value-of select="$parentid" />" arrnodeid="<xsl:value-of select="$arrnodeid" />" includechild ="<xsl:value-of select="$includechild" />" specialid="<xsl:value-of select="$specialid" />" urltype="<xsl:value-of select="$urltype" />" shownum="<xsl:value-of select="$shownum" />" ishot="<xsl:value-of select="$ishot" />" iselite="<xsl:value-of select="$iselite" />" inputername="<xsl:value-of select="$inputername" />" datenum="<xsl:value-of select="$datenum" />" ordertype="<xsl:value-of select="$ordertype" />" showtype="<xsl:value-of select="$showtype" />" titlelen="<xsl:value-of select="$titlelen" />" contentlen="<xsl:value-of disable-output-escaping="yes" select="$contentlen" />" shownodename="<xsl:value-of select="$shownodename" />" showpropertytype="<xsl:value-of select="$showpropertytype" />" showincludepic="<xsl:value-of select="$showincludepic" />" showauthor="<xsl:value-of select="$showauthor" />" showdatetype="<xsl:value-of select="$showdatetype" />" showhits="<xsl:value-of select="$showhits" />" showhotsign="<xsl:value-of select="$showhotsign" />" shownewsign="<xsl:value-of select="$shownewsign" />" showtips="<xsl:value-of select="$showtips" />" showcommentlink="<xsl:value-of select="$showcommentlink" />" usepage="<xsl:value-of select="$usepage" />" opentype="<xsl:value-of select="$opentype" />" cols="<xsl:value-of select="$cols" />" hits="<xsl:value-of select="$hits" />" elitelevel="<xsl:value-of select="$elitelevel" />" tablename="<xsl:value-of select="$tablename" />" strhits="<xsl:value-of select="$strhits" />" innerhits="<xsl:value-of select="$innerhits" />" strelitelevel="<xsl:value-of select="$strelitelevel" />" innerelitelevel="<xsl:value-of select="$innerelitelevel" />" modelname="<xsl:value-of select="pe:GetModelName($tablename)" />" strsql="SELECT TOP @shownum C.*,T.* FROM (PE_CommonModel C INNER JOIN PE_CommonProduct T ON C.ItemID=T.ProductID) INNER JOIN PE_SpecialInfos S ON C.GeneralID=S.GeneralID WHERE C.NodeID IN(@arrnodeid) AND C.Status=99 @strhits @strelitelevel AND C.TableName='@tablename' AND S.SpecialID IN(@specialid) AND @datenum>=Datediff(d,UpdateTime,getdate()) AND C.Inputer='@inputername' ORDER BY <xsl:value-of select="$sqlordertype" />" /}

									</xsl:if>

								</xsl:if>
							</xsl:if>
						</xsl:if>

					</xsl:otherwise>
				</xsl:choose>
			</xsl:otherwise>
			<!-- 不分页显示内容开始结束 -->
		</xsl:choose>
	</xsl:otherwise>
</xsl:choose>
</xsl:template>
</xsl:transform>]]></LabelTemplate>
  <attributes>
    <name>iselite</name>
    <default>false</default>
    <intro>是否是推荐文章</intro>
  </attributes>
  <attributes>
    <name>inputername</name>
    <default>
    </default>
    <intro>作者姓名</intro>
  </attributes>
  <attributes>
    <name>datenum</name>
    <default>0</default>
    <intro>日期范围</intro>
  </attributes>
  <attributes>
    <name>ordertype</name>
    <default>1</default>
    <intro>排序方式</intro>
  </attributes>
  <attributes>
    <name>showtype</name>
    <default>1</default>
    <intro>显示方式</intro>
  </attributes>
  <attributes>
    <name>titlelen</name>
    <default>20</default>
    <intro>标题最多字符数</intro>
  </attributes>
  <attributes>
    <name>contentlen</name>
    <default>100</default>
    <intro>文章内容最多字符数</intro>
  </attributes>
  <attributes>
    <name>shownodename</name>
    <default>false</default>
    <intro>是否显示所属栏目名称</intro>
  </attributes>
  <attributes>
    <name>showpropertytype</name>
    <default>0</default>
    <intro>显示文章属性的方式</intro>
  </attributes>
  <attributes>
    <name>showincludepic</name>
    <default>false</default>
    <intro>是否显示“[图文]”字样</intro>
  </attributes>
  <attributes>
    <name>showauthor</name>
    <default>false</default>
    <intro>是否显示文章作者</intro>
  </attributes>
  <attributes>
    <name>showdatetype</name>
    <default>0</default>
    <intro>显示更新日期的样式</intro>
  </attributes>
  <attributes>
    <name>showhits</name>
    <default>false</default>
    <intro>是否显示文章点击数</intro>
  </attributes>
  <attributes>
    <name>showhotsign</name>
    <default>false</default>
    <intro>是否显示热门文章标志</intro>
  </attributes>
  <attributes>
    <name>shownewsign</name>
    <default>false</default>
    <intro>是否显示新文章标志</intro>
  </attributes>
  <attributes>
    <name>showtips</name>
    <default>false</default>
    <intro>是否显示作者、更新日期、点击数等浮动提示信息</intro>
  </attributes>
  <attributes>
    <name>showcommentlink</name>
    <default>false</default>
    <intro>是否显示评论链接</intro>
  </attributes>
  <attributes>
    <name>usepage</name>
    <default>false</default>
    <intro>是否分页显示</intro>
  </attributes>
  <attributes>
    <name>opentype</name>
    <default>0</default>
    <intro>文章打开方式</intro>
  </attributes>
  <attributes>
    <name>cols</name>
    <default>
    </default>
    <intro>每行显示标题的的列数</intro>
  </attributes>
  <attributes>
    <name>hits</name>
    <default>0</default>
    <intro>热门最小点击数</intro>
  </attributes>
  <attributes>
    <name>elitelevel</name>
    <default>0</default>
    <intro>推荐优先级</intro>
  </attributes>
  <attributes>
    <name>tablename</name>
    <default>PE_U_Article</default>
    <intro>所属表名</intro>
  </attributes>
  <attributes>
    <name>sqlordertype</name>
    <default> C.UpdateTime DESC</default>
    <intro>指定排序字段与排序方式</intro>
  </attributes>
  <attributes>
    <name>sqlinnerordertype</name>
    <default> IC.UpdateTime DESC</default>
    <intro>指定分页查询中排序字段与排序方式</intro>
  </attributes>
  <attributes>
    <name>mypage</name>
    <default>true</default>
    <intro>是否分页</intro>
  </attributes>
  <attributes>
    <name>mypagesize</name>
    <default>10</default>
    <intro>每页分页数</intro>
  </attributes>
  <attributes>
    <name>myurlpage</name>
    <default>true</default>
    <intro>是否URL分页</intro>
  </attributes>
  <attributes>
    <name>strhits</name>
    <default>
    </default>
    <intro>热门查询条件</intro>
  </attributes>
  <attributes>
    <name>innerhits</name>
    <default>
    </default>
    <intro>热门查询条件</intro>
  </attributes>
  <attributes>
    <name>strelitelevel</name>
    <default>
    </default>
    <intro>推荐级查询条件</intro>
  </attributes>
  <attributes>
    <name>innerelitelevel</name>
    <default>
    </default>
    <intro>推荐级查询条件</intro>
  </attributes>
</root>